module.exports=__NEXT_REGISTER_PAGE("/search",function(){var e=webpackJsonp([5],{284:function(e,t,r){e.exports=r(285)},285:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(7);var n=r.n(a);var o=r(0);var i=r.n(o);var l=r(30);var c=r(18);var s=r.n(c);var u=r(19);var f=r(43);var h=r.n(f);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){b(t,e);function t(){v(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t=this.props,r=t.searchResult,a=t.searchField,n=t.handleChange;return i.a.createElement("div",null,i.a.createElement("div",{className:"container"},i.a.createElement("div",{id:"imaginary_container"},i.a.createElement("h1",null,"Search"),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",{type:"text",value:a,className:"form-control",onChange:n,placeholder:"Search",style:{height:"44px"}}))),!!r&&r.map(function(e,t){return i.a.createElement("div",{key:"search_"+t},i.a.createElement("h2",null,e.title),i.a.createElement("p",null,e.teaser),i.a.createElement("div",null,i.a.createElement(h.a,{href:e.permalink},i.a.createElement("a",null,"Read more"))))})))}}]);return t}(i.a.Component);var g=d;var y=r(20);var E=r(21);var w=r(31);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();function x(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var i=t[n](o);var l=i.value}catch(e){r(e);return}if(i.done)e(l);else return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)})}return a("next")})}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var C=function(e){P(t,e);O(t,null,[{key:"getInitialProps",value:function(){var e=x(n.a.mark(function e(t){var r=t.req,a=t.query;var o,i,c,s,u,f;return n.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return w["a"].getGlobals();case 2:o=t.sent;t.next=5;return w["a"].getObjects();case 5:i=t.sent;t.next=8;return w["a"].getObject("search");case 8:c=t.sent;s=i.objects;u=c.object;f=Object(l["b"])(o.objects);return t.abrupt("return",{globals:f,bucket:s,search:u});case 13:case"end":return t.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleChange=function(e){var t=e.target.value;var a=r.state.searchField;a=t;r.setState({searchField:a});var n=r.state.bucket;var o=r.state.searchResult;var i=[];var l=t;if(!!l)n.forEach(function(e){if(-1!==e.title.toLowerCase().indexOf(l)||-1!==e.content.toLowerCase().indexOf(l)){e.teaser=e.content.replace(/(<([^>]+)>)/gi,"").substring(0,300);if("blogs"===e.type_slug)e.permalink="/blog/"+e.slug;else e.permalink="/"+e.slug;i.push(e)}if(!_.find(i,{_id:e._id}))e.metafields.forEach(function(t){if(-1!==t.value.toLowerCase().indexOf(l)&&!_.find(i,{_id:e._id})){e.teaser=e.content.replace(/(<([^>]+)>)/gi,"").substring(0,300);if("blogs"===e.type_slug)e.permalink="/blog/"+e.slug;else e.permalink="/"+e.slug;i.push(e)}})});o=i;r.setState({searchResult:o})};r.state={header:e.globals.header,contact_form:e.globals.contact_form,nav:e.globals.nav,social:e.globals.social,contactInfo:e.globals.contact_info.metadata,footer:e.globals.footer,bucket:e.bucket,searchResult:"",searchField:"",search:e.search};return r}O(t,[{key:"render",value:function e(){return i.a.createElement(u["a"],null,i.a.createElement(s.a,null,i.a.createElement("title",null,"Medical Professional ~ Cosmic JS Next Js App"),i.a.createElement("meta",{name:"description",content:this.state.search.metadata.seo_description.value}),i.a.createElement("link",{rel:"icon",type:"image/png",href:this.state.header.metadata.favicon.imgix_url+"?w=32",sizes:"32x32"}),i.a.createElement("link",{rel:"icon",type:"image/png",href:this.state.header.metadata.favicon.imgix_url+"?w=16",sizes:"16x16"})),i.a.createElement(y["a"],{header:this.state.header,nav:this.state.nav}),i.a.createElement(g,{handleChange:this.handleChange,searchField:this.state.searchField,searchResult:this.state.searchResult}),i.a.createElement(E["a"],{footer:this.state.footer,social:this.state.social,contactInfo:this.state.contactInfo}))}}]);return t}(i.a.Component);var R=t["default"]=C}},[284]);return{page:e.default}});